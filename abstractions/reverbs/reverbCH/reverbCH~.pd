#N canvas 185 0 1298 984 10;
#X floatatom 431 697 5 -1 1 3 diffusion2 #0-diff2 #0-diffusion2;
#X floatatom 666 635 5 0 100 3 diff2L #0-ldiff2 #0-diff2dl;
#X floatatom 726 635 5 0 1000 3 diff2outL #0-ldiff2o #0-diff2dld;
#X floatatom 369 696 5 -1 1 3 diffusion1 #0-diff1 #0-diffusion1;
#X floatatom 442 641 5 -1 1 3 decay3 #0-dec3 #0-decay3;
#X floatatom 666 666 5 0 200 3 diff1L #0-ldiff1 #0-diff1dl;
#X floatatom 726 666 5 0 1000 3 diff1outL #0-ldiff1o #0-diff1dld;
#X floatatom 368 641 5 -1 1 3 decay1 #0-dec1 #0-decay1;
#X floatatom 405 641 5 -1 1 3 decay2 #0-dec2 #0-decay2;
#X text 667 611 delay times;
#X floatatom 445 748 5 -1 1 3 decay_diff_b #0-ddiffb #0-decaydiffb
;
#X floatatom 370 748 5 -1 1 3 decay_diff_a #0-ddiffa #0-decaydiffa
;
#X floatatom 524 799 5 -1 1 3 definition_c #0-definc #0-definitionc
;
#X floatatom 371 799 5 -1 1 3 definition_a #0-defina #0-definitiona
;
#X floatatom 447 799 5 -1 1 3 definition_b #0-definb #0-definitionb
;
#N canvas 701 1 816 440 2apfL 0;
#X obj 37 18 inlet~;
#X obj 271 319 outlet~;
#X floatatom 99 19 5 0 0 2 decay_diff_a #0-decaydiffa -;
#X obj 36 49 +~;
#X obj 270 161 -~;
#X floatatom 315 99 5 0 0 1 decay2 #0-decay2 -;
#X floatatom 175 -12 5 0 0 1 dcydiffaL #0-ddadl -;
#X floatatom 270 211 5 0 0 1 2apfoutL #0-2apfoutdl -;
#X floatatom -42 241 5 0 0 2 definition_a #0-definitiona -;
#X obj -99 257 +~;
#X obj 135 369 -~;
#X floatatom 180 307 5 0 0 1 decay1 #0-decay1 -;
#X floatatom 124 185 5 0 0 1 definitionaL #0-defadl -;
#X obj 54 84 *~ 0.406;
#X obj 175 119 *~ 0.406;
#X obj 270 118 *~ 0.844;
#X obj 135 326 *~ 0.938;
#X obj -81 292 *~ 0.25;
#X obj 40 327 *~ 0.25;
#X obj 132 227 t b f;
#X obj 124 249 *;
#X obj 278 253 t b f;
#X obj 270 275 *;
#X obj 183 31 t b f;
#X obj 175 53 *;
#X obj 175 78 delread~ \$0-defl1 17.9341;
#X obj 270 296 delread~ \$0-defld 10.0806;
#X obj 278 232 r \$0-sloop;
#X obj 183 10 r \$0-sapf;
#X obj 132 206 r \$0-sapf;
#X obj -98 328 delwrite~ \$0-defl2 600;
#X obj 135 394 delwrite~ \$0-defl1 200;
#X obj 40 246 +~ 1;
#X obj 40 226 *~ 0.01;
#X obj 40 266 *~ 56.967;
#X obj 40 286 vd~ \$0-defl2;
#X obj 270 183 delwrite~ \$0-defld 1000;
#X obj 40 206 bmod~ \$0-mod2;
#X connect 0 0 3 0;
#X connect 2 0 13 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 13 0;
#X connect 4 0 36 0;
#X connect 5 0 15 1;
#X connect 6 0 24 0;
#X connect 7 0 22 0;
#X connect 8 0 17 1;
#X connect 8 0 18 1;
#X connect 9 0 17 0;
#X connect 9 0 30 0;
#X connect 10 0 31 0;
#X connect 11 0 16 1;
#X connect 12 0 20 0;
#X connect 13 0 4 1;
#X connect 14 0 3 1;
#X connect 15 0 4 0;
#X connect 16 0 10 0;
#X connect 17 0 10 1;
#X connect 18 0 9 1;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 34 1;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 26 0;
#X connect 23 0 24 0;
#X connect 23 1 24 1;
#X connect 24 0 25 0;
#X connect 25 0 14 0;
#X connect 25 0 15 0;
#X connect 26 0 1 0;
#X connect 27 0 21 0;
#X connect 28 0 23 0;
#X connect 29 0 19 0;
#X connect 32 0 34 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 16 0;
#X connect 35 0 18 0;
#X connect 37 0 33 0;
#X restore 504 298 pd 2apfL;
#N canvas 190 73 625 734 3apfL 0;
#X obj 47 28 inlet~;
#X obj 280 329 outlet~;
#X floatatom 109 29 5 0 0 2 decay_diff_b #0-decaydiffb -;
#X obj 46 59 +~;
#X obj 280 171 -~;
#X floatatom 325 109 5 0 0 1 decay2 #0-decay2 -;
#X floatatom 185 -2 5 0 0 1 dcydiffbL #0-ddbdl -;
#X floatatom 280 221 5 0 0 1 3apfoutL #0-3apfoutdl -;
#X floatatom -32 251 5 0 0 2 definition_b #0-definitionb -;
#X obj -89 267 +~;
#X obj 145 379 -~;
#X floatatom 190 317 5 0 0 1 decay1 #0-decay1 -;
#X floatatom 50 208 5 0 0 1 definitionbL #0-defbdl -;
#X obj 64 94 *~ 0.406;
#X obj 185 129 *~ 0.406;
#X obj 280 128 *~ 0.844;
#X obj 145 336 *~ 0.938;
#X obj -71 302 *~ 0.25;
#X obj 50 337 *~ 0.25;
#X obj 58 250 t b f;
#X obj 50 272 *;
#X obj 288 263 t b f;
#X obj 280 285 *;
#X obj 193 41 t b f;
#X obj 185 63 *;
#X floatatom -32 500 5 0 0 2 definition_c #0-definitionc -;
#X obj -89 527 +~;
#X obj 145 639 -~;
#X floatatom 190 577 5 0 0 1 decay1 #0-decay1 -;
#X floatatom 134 453 5 0 0 1 chorusL #0-chorusdl -;
#X obj 142 495 t b f;
#X obj 134 517 *;
#X obj -71 562 *~ 0.25;
#X obj 50 597 *~ 0.25;
#X obj 145 596 *~ 0.938;
#X obj 193 20 r \$0-sapf;
#X obj 185 88 delread~ \$0-chol1 37.0403;
#X obj 288 242 r \$0-sloop;
#X obj 280 306 delread~ \$0-chold 46.0659;
#X obj 58 229 r \$0-sapf;
#X obj 50 296 delread~ \$0-chol2 23.9121;
#X obj 145 404 delwrite~ \$0-chol1 400;
#X obj 142 474 r \$0-sapf;
#X obj 50 556 vd~ \$0-modl;
#X obj -88 598 delwrite~ \$0-modl 400;
#X obj 145 663 delwrite~ \$0-chol2 300;
#X obj 50 514 +~ 1;
#X obj 50 494 *~ 0.01;
#X obj 50 534 *~ 35.5165;
#X obj 280 193 delwrite~ \$0-chold 1000;
#X obj 50 474 bmod~ \$0-mod3;
#X connect 0 0 3 0;
#X connect 2 0 13 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 13 0;
#X connect 4 0 49 0;
#X connect 5 0 15 1;
#X connect 6 0 24 0;
#X connect 7 0 22 0;
#X connect 8 0 17 1;
#X connect 8 0 18 1;
#X connect 9 0 17 0;
#X connect 9 0 26 0;
#X connect 10 0 41 0;
#X connect 11 0 16 1;
#X connect 12 0 20 0;
#X connect 13 0 4 1;
#X connect 14 0 3 1;
#X connect 15 0 4 0;
#X connect 16 0 10 0;
#X connect 17 0 10 1;
#X connect 18 0 9 1;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 40 0;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 38 0;
#X connect 23 0 24 0;
#X connect 23 1 24 1;
#X connect 24 0 36 0;
#X connect 25 0 32 1;
#X connect 25 0 33 1;
#X connect 26 0 32 0;
#X connect 26 0 44 0;
#X connect 27 0 45 0;
#X connect 28 0 34 1;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 48 1;
#X connect 32 0 27 1;
#X connect 33 0 26 1;
#X connect 34 0 27 0;
#X connect 35 0 23 0;
#X connect 36 0 14 0;
#X connect 36 0 15 0;
#X connect 37 0 21 0;
#X connect 38 0 1 0;
#X connect 39 0 19 0;
#X connect 40 0 16 0;
#X connect 40 0 18 0;
#X connect 42 0 30 0;
#X connect 43 0 33 0;
#X connect 43 0 34 0;
#X connect 46 0 48 0;
#X connect 47 0 46 0;
#X connect 48 0 43 0;
#X connect 50 0 47 0;
#X restore 504 319 pd 3apfL;
#X floatatom 666 696 5 0 200 3 dcydiffaL #0-ldda #0-ddadl;
#X floatatom 726 696 5 0 600 3 definitionaL #0-ldefa #0-defadl;
#X floatatom 801 696 5 0 1000 3 2apfoutL #0-l2apfo #0-2apfoutdl;
#X floatatom 666 727 5 0 400 3 dcydiffbL #0-lddb #0-ddbdl;
#X floatatom 726 727 5 0 300 3 definitionbL #0-ldefb #0-defbdl;
#X floatatom 847 728 5 0 1000 3 3apfoutL #0-l3apfo #0-3apfoutdl;
#X floatatom 801 728 5 0 400 3 chorusL #0-lch #0-chorusdl;
#X obj 504 210 inlet~;
#X obj 573 210 inlet~;
#X text 509 188 left;
#X text 578 190 right;
#N canvas 335 16 721 300 filterL 0;
#X obj 72 61 inlet~;
#X obj 214 85 inlet~;
#X text 74 43 input;
#X text 215 64 feedback;
#X floatatom 72 107 5 0 0 1 pre_del_L #0-prel -;
#X obj 71 162 outlet~;
#X obj 214 105 filt1000~ \$0;
#X text 69 -5 new biquad loop filter and chebyshev brickwall filter
on input;
#X obj 72 85 delwrite~ \$0-prel 1000;
#X obj 72 128 delread~ \$0-prel 0;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 4 0 9 0;
#X connect 6 0 5 0;
#X connect 9 0 5 0;
#X restore 504 256 pd filterL;
#N canvas 196 59 830 671 output 0;
#X obj 334 598 outlet~;
#X obj 51 599 outlet~;
#N canvas 348 53 842 872 scanner 0;
#X obj 285 449 outlet~;
#X obj 286 295 line~;
#X obj 286 274 pack;
#X obj 286 383 cos~;
#X obj 286 405 *~;
#X obj 319 406 *~;
#X obj 285 428 +~;
#X obj 301 210 spigot;
#X obj 367 210 spigot;
#X obj 334 190 == 0;
#X text 218 294 crossfader;
#X text 313 426 summed out;
#X obj 286 317 *~ 1;
#X obj 323 300 pow -1;
#X obj 323 281 / 100;
#X obj 319 383 sin~;
#X obj 286 362 +~ 0.125;
#X obj 286 340 clip~ -0.125 0.125;
#X msg 205 153 1;
#X obj 205 174 +;
#X obj 205 195 % 2;
#X obj 205 239 - 0.125;
#X obj 205 217 * 0.25;
#X obj 105 282 random 3;
#X obj 105 302 + 1;
#X msg 105 322 \$1;
#X obj 105 342 +;
#X obj 105 362 % 4;
#X obj 138 363 random 1000;
#X obj 105 239 t b b f;
#X obj 105 385 pack f f;
#X obj 60 571 delread~ \$0-chold;
#X obj 60 473 s~ \$0-dt0l;
#X obj 60 512 s~ \$0-dt1l;
#X obj 60 551 s~ \$0-dt2l;
#X obj 60 590 s~ \$0-dt3l;
#X obj 170 610 s \$0-destl;
#X obj 301 232 r~ \$0-nnn;
#X obj 367 232 r~ \$0-nnn;
#X obj 317 158 r \$0-destl;
#X obj 80 140 r \$0-rhallpois;
#X obj 105 160 r \$0-rhallmin;
#X obj 177 340 r \$0-rhallmaxdel;
#X obj 323 262 r \$0-rhallxft;
#X obj 699 452 outlet~;
#X obj 700 298 line~;
#X obj 700 277 pack;
#X obj 700 386 cos~;
#X obj 700 408 *~;
#X obj 733 409 *~;
#X obj 699 431 +~;
#X obj 715 213 spigot;
#X obj 781 213 spigot;
#X obj 748 193 == 0;
#X text 632 297 crossfader;
#X text 727 429 summed out;
#X obj 700 320 *~ 1;
#X obj 737 303 pow -1;
#X obj 737 284 / 100;
#X obj 733 386 sin~;
#X obj 700 365 +~ 0.125;
#X obj 700 343 clip~ -0.125 0.125;
#X msg 619 156 1;
#X obj 619 177 +;
#X obj 619 198 % 2;
#X obj 619 242 - 0.125;
#X obj 619 220 * 0.25;
#X obj 519 285 random 3;
#X obj 519 305 + 1;
#X msg 519 325 \$1;
#X obj 519 345 +;
#X obj 519 365 % 4;
#X obj 552 366 random 1000;
#X obj 519 242 t b b f;
#X obj 519 388 pack f f;
#X obj 715 235 r~ \$0-nnn;
#X obj 781 235 r~ \$0-nnn;
#X obj 494 143 r \$0-rhallpois;
#X obj 519 163 r \$0-rhallmin;
#X obj 591 343 r \$0-rhallmaxdel;
#X obj 737 265 r \$0-rhallxft;
#X obj 731 161 r \$0-destr;
#X obj 474 476 s~ \$0-dt0r;
#X obj 474 515 s~ \$0-dt1r;
#X obj 474 554 s~ \$0-dt2r;
#X obj 474 574 delread~ \$0-chord;
#X obj 474 593 s~ \$0-dt3r;
#X obj 584 613 s \$0-destr;
#X obj 359 55 s~ \$0-nnn;
#X obj 170 454 t b;
#X obj 196 454 f \$0;
#X msg 170 473 set \$1-dt0l;
#X obj 170 493 t b;
#X obj 196 493 f \$0;
#X msg 170 512 set \$1-dt1l;
#X obj 170 532 t b;
#X obj 196 532 f \$0;
#X obj 170 571 t b;
#X obj 196 571 f \$0;
#X msg 170 551 set \$1-dt2l;
#X msg 170 590 set \$1-dt3l;
#X obj 584 457 t b;
#X obj 610 457 f \$0;
#X obj 584 496 t b;
#X obj 610 496 f \$0;
#X obj 584 535 t b;
#X obj 610 535 f \$0;
#X obj 584 574 t b;
#X obj 610 574 f \$0;
#X msg 584 476 set \$1-dt0r;
#X msg 584 515 set \$1-dt1r;
#X msg 584 554 set \$1-dt2r;
#X msg 584 593 set \$1-dt3r;
#X obj 497 53 r \$0-rhallmode;
#X obj 497 72 * 4;
#X obj 150 263 + 3;
#X obj 130 342 + 4;
#X obj 105 407 route 0 1 2 3 4 5 6 7;
#X obj 519 410 route 0 1 2 3 4 5 6 7;
#X obj 60 454 delread~ \$0-d1ld;
#X obj 60 532 delread~ \$0-defld;
#X obj 474 457 delread~ \$0-d1rd;
#X obj 474 496 delread~ \$0-d2rd;
#X obj 474 535 delread~ \$0-defrd;
#X obj 170 796 s \$0-destl;
#X obj 170 640 t b;
#X obj 196 640 f \$0;
#X obj 170 679 t b;
#X obj 196 679 f \$0;
#X obj 170 718 t b;
#X obj 196 718 f \$0;
#X obj 170 757 t b;
#X obj 196 757 f \$0;
#X obj 584 795 s \$0-destr;
#X obj 584 639 t b;
#X obj 610 639 f \$0;
#X obj 584 678 t b;
#X obj 610 678 f \$0;
#X obj 584 717 t b;
#X obj 610 717 f \$0;
#X obj 584 756 t b;
#X obj 610 756 f \$0;
#X obj 60 640 delread~ \$0-d1rd;
#X obj 60 718 delread~ \$0-defrd;
#X obj 60 757 delread~ \$0-chord;
#X obj 474 639 delread~ \$0-d1ld;
#X obj 474 678 delread~ \$0-d2ld;
#X obj 474 717 delread~ \$0-defld;
#X obj 474 756 delread~ \$0-chold;
#X obj 60 659 s~ \$0-dt4l;
#X obj 60 698 s~ \$0-dt5l;
#X obj 60 737 s~ \$0-dt6l;
#X obj 60 776 s~ \$0-dt7l;
#X obj 474 658 s~ \$0-dt4r;
#X obj 474 697 s~ \$0-dt5r;
#X obj 474 736 s~ \$0-dt6r;
#X obj 474 775 s~ \$0-dt7r;
#X msg 170 659 set \$1-dt4l;
#X msg 170 698 set \$1-dt5l;
#X msg 170 737 set \$1-dt6l;
#X msg 170 776 set \$1-dt7l;
#X msg 584 658 set \$1-dt4r;
#X msg 584 697 set \$1-dt5r;
#X msg 584 736 set \$1-dt6r;
#X msg 584 775 set \$1-dt7r;
#X obj 544 345 + 4;
#X obj 564 266 + 3;
#X obj 60 679 delread~ \$0-d2rd;
#X obj 60 493 delread~ \$0-d2ld;
#X obj 55 180 pois;
#X text 92 20 Smoothly interpolates between random output taps for
a "random hall" effect.;
#X obj 55 120 r \$0-go;
#X obj 469 123 r \$0-go;
#X obj 469 183 pois;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 0 0;
#X connect 7 0 37 0;
#X connect 8 0 38 0;
#X connect 9 0 7 1;
#X connect 12 0 17 0;
#X connect 13 0 12 1;
#X connect 14 0 13 0;
#X connect 15 0 5 0;
#X connect 16 0 3 0;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 19 1;
#X connect 20 0 9 0;
#X connect 20 0 8 1;
#X connect 20 0 22 0;
#X connect 21 0 2 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 26 1;
#X connect 27 0 30 0;
#X connect 28 0 30 1;
#X connect 29 0 23 0;
#X connect 29 1 18 0;
#X connect 29 1 28 0;
#X connect 29 2 2 1;
#X connect 30 0 117 0;
#X connect 31 0 35 0;
#X connect 37 0 4 1;
#X connect 38 0 5 1;
#X connect 39 0 7 0;
#X connect 39 0 8 0;
#X connect 40 0 169 1;
#X connect 41 0 169 2;
#X connect 42 0 28 1;
#X connect 43 0 14 0;
#X connect 45 0 56 0;
#X connect 46 0 45 0;
#X connect 47 0 48 0;
#X connect 48 0 50 0;
#X connect 49 0 50 1;
#X connect 50 0 44 0;
#X connect 51 0 75 0;
#X connect 52 0 76 0;
#X connect 53 0 51 1;
#X connect 56 0 61 0;
#X connect 57 0 56 1;
#X connect 58 0 57 0;
#X connect 59 0 49 0;
#X connect 60 0 47 0;
#X connect 60 0 59 0;
#X connect 61 0 60 0;
#X connect 62 0 63 0;
#X connect 63 0 64 0;
#X connect 64 0 63 1;
#X connect 64 0 53 0;
#X connect 64 0 52 1;
#X connect 64 0 66 0;
#X connect 65 0 46 0;
#X connect 66 0 65 0;
#X connect 67 0 68 0;
#X connect 68 0 69 0;
#X connect 69 0 70 0;
#X connect 70 0 71 0;
#X connect 71 0 70 1;
#X connect 71 0 74 0;
#X connect 72 0 74 1;
#X connect 73 0 67 0;
#X connect 73 1 62 0;
#X connect 73 1 72 0;
#X connect 73 2 46 1;
#X connect 74 0 118 0;
#X connect 75 0 48 1;
#X connect 76 0 49 1;
#X connect 77 0 173 1;
#X connect 78 0 173 2;
#X connect 79 0 72 1;
#X connect 80 0 58 0;
#X connect 81 0 51 0;
#X connect 81 0 52 0;
#X connect 85 0 86 0;
#X connect 89 0 90 0;
#X connect 90 0 91 0;
#X connect 91 0 36 0;
#X connect 92 0 93 0;
#X connect 93 0 94 0;
#X connect 94 0 36 0;
#X connect 95 0 96 0;
#X connect 96 0 99 0;
#X connect 97 0 98 0;
#X connect 98 0 100 0;
#X connect 99 0 36 0;
#X connect 100 0 36 0;
#X connect 101 0 102 0;
#X connect 102 0 109 0;
#X connect 103 0 104 0;
#X connect 104 0 110 0;
#X connect 105 0 106 0;
#X connect 106 0 111 0;
#X connect 107 0 108 0;
#X connect 108 0 112 0;
#X connect 109 0 87 0;
#X connect 110 0 87 0;
#X connect 111 0 87 0;
#X connect 112 0 87 0;
#X connect 113 0 114 0;
#X connect 114 0 115 0;
#X connect 114 0 116 0;
#X connect 114 0 165 0;
#X connect 114 0 166 0;
#X connect 115 0 23 1;
#X connect 116 0 27 1;
#X connect 117 0 89 0;
#X connect 117 0 119 0;
#X connect 117 1 92 0;
#X connect 117 1 168 0;
#X connect 117 2 95 0;
#X connect 117 2 120 0;
#X connect 117 3 31 0;
#X connect 117 3 97 0;
#X connect 117 4 142 0;
#X connect 117 4 125 0;
#X connect 117 5 127 0;
#X connect 117 5 167 0;
#X connect 117 6 143 0;
#X connect 117 6 129 0;
#X connect 117 7 144 0;
#X connect 117 7 131 0;
#X connect 118 0 101 0;
#X connect 118 0 121 0;
#X connect 118 1 103 0;
#X connect 118 1 122 0;
#X connect 118 2 105 0;
#X connect 118 2 123 0;
#X connect 118 3 85 0;
#X connect 118 3 107 0;
#X connect 118 4 145 0;
#X connect 118 4 134 0;
#X connect 118 5 146 0;
#X connect 118 5 136 0;
#X connect 118 6 147 0;
#X connect 118 6 138 0;
#X connect 118 7 148 0;
#X connect 118 7 140 0;
#X connect 119 0 32 0;
#X connect 120 0 34 0;
#X connect 121 0 82 0;
#X connect 122 0 83 0;
#X connect 123 0 84 0;
#X connect 125 0 126 0;
#X connect 126 0 157 0;
#X connect 127 0 128 0;
#X connect 128 0 158 0;
#X connect 129 0 130 0;
#X connect 130 0 159 0;
#X connect 131 0 132 0;
#X connect 132 0 160 0;
#X connect 134 0 135 0;
#X connect 135 0 161 0;
#X connect 136 0 137 0;
#X connect 137 0 162 0;
#X connect 138 0 139 0;
#X connect 139 0 163 0;
#X connect 140 0 141 0;
#X connect 141 0 164 0;
#X connect 142 0 149 0;
#X connect 143 0 151 0;
#X connect 144 0 152 0;
#X connect 145 0 153 0;
#X connect 146 0 154 0;
#X connect 147 0 155 0;
#X connect 148 0 156 0;
#X connect 157 0 124 0;
#X connect 158 0 124 0;
#X connect 159 0 124 0;
#X connect 160 0 124 0;
#X connect 161 0 133 0;
#X connect 162 0 133 0;
#X connect 163 0 133 0;
#X connect 164 0 133 0;
#X connect 165 0 71 1;
#X connect 166 0 67 1;
#X connect 167 0 150 0;
#X connect 168 0 33 0;
#X connect 169 1 29 0;
#X connect 171 0 169 0;
#X connect 172 0 173 0;
#X connect 173 1 73 0;
#X restore 664 137 pd scanner;
#X obj 721 157 outlet~;
#X obj 664 157 outlet~;
#X obj 53 192 *~ 0;
#X obj 53 152 delread~ \$0-d1ld;
#X obj 53 132 r \$0-ldiffusion1ld;
#X obj 74 172 r \$0-ldiffusion1l;
#X obj 182 196 *~ 0;
#X obj 182 136 r \$0-ldiffusion2ld;
#X obj 182 156 delread~ \$0-d2ld;
#X obj 203 176 r \$0-ldiffusion2l;
#X obj 53 212 +~;
#X obj 67 294 *~ 0;
#X obj 196 298 *~ 0;
#X obj 67 314 +~;
#X obj 67 234 r \$0-ldefinitionld;
#X obj 196 238 r \$0-lchorusld;
#X obj 217 278 r \$0-lchorusl;
#X obj 88 274 r \$0-ldefinitionl;
#X obj 67 254 delread~ \$0-defld;
#X obj 52 335 +~;
#X obj 67 415 *~ 0;
#X obj 196 419 *~ 0;
#X obj 67 435 +~;
#X obj 81 517 *~ 0;
#X obj 210 521 *~ 0;
#X obj 81 537 +~;
#X obj 66 558 +~;
#X obj 51 578 +~;
#X obj 67 355 r \$0-ldiffusion1rd;
#X obj 196 359 r \$0-ldiffusion2rd;
#X obj 67 375 delread~ \$0-d1rd;
#X obj 196 379 delread~ \$0-d2rd;
#X obj 88 395 r \$0-ldiffusion1r;
#X obj 217 399 r \$0-ldiffusion2r;
#X obj 81 457 r \$0-ldefinitionrd;
#X obj 81 477 delread~ \$0-defrd;
#X obj 102 497 r \$0-ldefinitionr;
#X obj 210 461 r \$0-lchorusrd;
#X obj 196 258 delread~ \$0-chold;
#X obj 210 481 delread~ \$0-chord;
#X obj 231 501 r \$0-lchorusr;
#X text 133 61 note: diff2 comes before diff1 in the signal chain.
diff1 is more "diffuse".;
#X obj 336 192 *~ 0;
#X obj 336 152 delread~ \$0-d1ld;
#X obj 465 196 *~ 0;
#X obj 465 156 delread~ \$0-d2ld;
#X obj 336 212 +~;
#X obj 350 294 *~ 0;
#X obj 479 298 *~ 0;
#X obj 350 314 +~;
#X obj 350 254 delread~ \$0-defld;
#X obj 335 335 +~;
#X obj 350 415 *~ 0;
#X obj 479 419 *~ 0;
#X obj 350 435 +~;
#X obj 364 517 *~ 0;
#X obj 493 521 *~ 0;
#X obj 364 537 +~;
#X obj 349 558 +~;
#X obj 334 578 +~;
#X obj 350 375 delread~ \$0-d1rd;
#X obj 479 379 delread~ \$0-d2rd;
#X obj 364 477 delread~ \$0-defrd;
#X obj 479 258 delread~ \$0-chold;
#X obj 493 481 delread~ \$0-chord;
#X obj 336 132 r \$0-rdiffusion1ld;
#X obj 465 136 r \$0-rdiffusion2ld;
#X obj 357 172 r \$0-rdiffusion1l;
#X obj 486 176 r \$0-rdiffusion2l;
#X obj 350 234 r \$0-rdefinitionld;
#X obj 479 238 r \$0-rchorusld;
#X obj 371 274 r \$0-rdefinitionl;
#X obj 500 278 r \$0-rchorusl;
#X obj 350 355 r \$0-rdiffusion1rd;
#X obj 479 359 r \$0-rdiffusion2rd;
#X obj 371 395 r \$0-rdiffusion1r;
#X obj 500 399 r \$0-rdiffusion2r;
#X obj 364 457 r \$0-rdefinitionrd;
#X obj 385 497 r \$0-rdefinitionr;
#X obj 493 461 r \$0-rchorusrd;
#X obj 514 501 r \$0-rchorusr;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 5 0 13 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 5 1;
#X connect 9 0 13 1;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 12 0 9 1;
#X connect 13 0 22 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 22 1;
#X connect 17 0 21 0;
#X connect 18 0 41 0;
#X connect 19 0 15 1;
#X connect 20 0 14 1;
#X connect 21 0 14 0;
#X connect 22 0 30 0;
#X connect 23 0 25 0;
#X connect 24 0 25 1;
#X connect 25 0 29 0;
#X connect 26 0 28 0;
#X connect 27 0 28 1;
#X connect 28 0 29 1;
#X connect 29 0 30 1;
#X connect 30 0 1 0;
#X connect 31 0 33 0;
#X connect 32 0 34 0;
#X connect 33 0 23 0;
#X connect 34 0 24 0;
#X connect 35 0 23 1;
#X connect 36 0 24 1;
#X connect 37 0 38 0;
#X connect 38 0 26 0;
#X connect 39 0 26 1;
#X connect 40 0 42 0;
#X connect 41 0 15 0;
#X connect 42 0 27 0;
#X connect 43 0 27 1;
#X connect 45 0 49 0;
#X connect 46 0 45 0;
#X connect 47 0 49 1;
#X connect 48 0 47 0;
#X connect 49 0 54 0;
#X connect 50 0 52 0;
#X connect 51 0 52 1;
#X connect 52 0 54 1;
#X connect 53 0 50 0;
#X connect 54 0 62 0;
#X connect 55 0 57 0;
#X connect 56 0 57 1;
#X connect 57 0 61 0;
#X connect 58 0 60 0;
#X connect 59 0 60 1;
#X connect 60 0 61 1;
#X connect 61 0 62 1;
#X connect 62 0 0 0;
#X connect 63 0 55 0;
#X connect 64 0 56 0;
#X connect 65 0 58 0;
#X connect 66 0 51 0;
#X connect 67 0 59 0;
#X connect 68 0 46 0;
#X connect 69 0 48 0;
#X connect 70 0 45 1;
#X connect 71 0 47 1;
#X connect 72 0 53 0;
#X connect 73 0 66 0;
#X connect 74 0 50 1;
#X connect 75 0 51 1;
#X connect 76 0 63 0;
#X connect 77 0 64 0;
#X connect 78 0 55 1;
#X connect 79 0 56 1;
#X connect 80 0 65 0;
#X connect 81 0 58 1;
#X connect 82 0 67 0;
#X connect 83 0 59 1;
#X restore 49 800 pd output;
#X floatatom 340 866 5 0.1 10 3 apf_scale #0-scalea #0-sapf;
#X floatatom 401 866 5 0.1 10 3 loop_scale #0-scaleloop #0-sloop;
#X floatatom 340 847 5 0.1 10 1 global_delay_scale #0-gscale #0-scale
;
#X floatatom 371 780 5 -1 1 1 definition #0-def #0-defin;
#X floatatom 370 729 5 -1 1 1 decay_diffusion #0-ddiff #0-ddif;
#X floatatom 369 677 5 -1 1 1 diffusion #0-diff #0-diffg;
#X floatatom 368 622 5 -1 1 1 decay #0-decay #0-dec;
#N canvas 709 493 816 444 2apfR 0;
#X obj 37 18 inlet~;
#X obj 270 319 outlet~;
#X floatatom 99 19 5 0 0 2 decay_diff_a #0-decaydiffa -;
#X obj 36 49 +~;
#X obj 270 161 -~;
#X floatatom 315 99 5 0 0 1 decay2 #0-decay2 -;
#X floatatom 175 -12 5 0 0 1 dcydiffaR #0-ddadr -;
#X floatatom 270 211 5 0 0 1 2apfoutR #0-2apfoutdr -;
#X floatatom -42 241 5 0 0 2 definition_a #0-definitiona -;
#X obj -99 257 +~;
#X obj 135 369 -~;
#X floatatom 180 306 5 0 0 1 decay1 #0-decay1 -;
#X floatatom 124 185 5 0 0 1 definitionaR #0-defadr -;
#X obj 54 84 *~ 0.406;
#X obj 175 119 *~ 0.406;
#X obj 270 118 *~ 0.844;
#X obj 135 326 *~ 0.938;
#X obj -81 292 *~ 0.25;
#X obj 40 327 *~ 0.25;
#X obj 132 227 t b f;
#X obj 124 249 *;
#X obj 278 253 t b f;
#X obj 270 275 *;
#X obj 183 31 t b f;
#X obj 175 53 *;
#X obj 183 10 r \$0-sapf;
#X obj 278 232 r \$0-sloop;
#X obj 270 296 delread~ \$0-defrd 14.652;
#X obj 175 78 delread~ \$0-defr1 10.7839;
#X obj 132 206 r \$0-sapf;
#X obj -98 327 delwrite~ \$0-defr2 600;
#X obj 135 394 delwrite~ \$0-defr1 200;
#X obj 40 246 +~ 1;
#X obj 40 226 *~ 0.01;
#X obj 40 266 *~ 59.5458;
#X obj 40 286 vd~ \$0-defr2;
#X obj 270 183 delwrite~ \$0-defrd 1000;
#X obj 40 206 bmod~ \$0-mod2;
#X connect 0 0 3 0;
#X connect 2 0 13 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 13 0;
#X connect 4 0 36 0;
#X connect 5 0 15 1;
#X connect 6 0 24 0;
#X connect 7 0 22 0;
#X connect 8 0 17 1;
#X connect 8 0 18 1;
#X connect 9 0 17 0;
#X connect 9 0 30 0;
#X connect 10 0 31 0;
#X connect 11 0 16 1;
#X connect 12 0 20 0;
#X connect 13 0 4 1;
#X connect 14 0 3 1;
#X connect 15 0 4 0;
#X connect 16 0 10 0;
#X connect 17 0 10 1;
#X connect 18 0 9 1;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 34 1;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 27 0;
#X connect 23 0 24 0;
#X connect 23 1 24 1;
#X connect 24 0 28 0;
#X connect 25 0 23 0;
#X connect 26 0 21 0;
#X connect 27 0 1 0;
#X connect 28 0 14 0;
#X connect 28 0 15 0;
#X connect 29 0 19 0;
#X connect 32 0 34 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 16 0;
#X connect 35 0 18 0;
#X connect 37 0 33 0;
#X restore 664 298 pd 2apfR;
#N canvas 851 72 620 738 3apfR 0;
#X obj 47 28 inlet~;
#X obj 280 329 outlet~;
#X floatatom 109 29 5 0 0 2 decay_diff_b #0-decaydiffb -;
#X obj 46 59 +~;
#X obj 280 171 -~;
#X floatatom 325 109 5 0 0 1 decay2 #0-decay2 -;
#X floatatom 185 -2 5 0 0 1 dcydiffbR #0-ddbdr -;
#X floatatom 280 221 5 0 0 1 3apfoutR #0-3apfoutdr -;
#X floatatom -32 251 5 0 0 2 definition_b #0-definitionb -;
#X obj -89 267 +~;
#X obj 145 379 -~;
#X floatatom 190 317 5 0 0 1 decay1 #0-decay1 -;
#X floatatom 50 208 5 0 0 1 definitionbR #0-defbdr -;
#X obj 64 94 *~ 0.406;
#X obj 185 129 *~ 0.406;
#X obj 280 128 *~ 0.844;
#X obj 145 336 *~ 0.938;
#X obj -71 302 *~ 0.25;
#X obj 50 337 *~ 0.25;
#X obj 58 250 t b f;
#X obj 50 272 *;
#X obj 288 263 t b f;
#X obj 280 285 *;
#X obj 193 41 t b f;
#X obj 185 63 *;
#X floatatom -32 500 5 0 0 2 definition_c #0-definitionc -;
#X obj -89 527 +~;
#X obj 145 639 -~;
#X floatatom 190 577 5 0 0 1 decay1 #0-decay1 -;
#X floatatom 135 453 5 0 0 1 chorusR #0-chorusdr -;
#X obj 143 495 t b f;
#X obj 135 517 *;
#X obj -71 562 *~ 0.25;
#X obj 50 597 *~ 0.25;
#X obj 145 596 *~ 0.938;
#X obj 193 20 r \$0-sapf;
#X obj 185 88 delread~ \$0-cholr 39.2674;
#X obj 288 242 r \$0-sloop;
#X obj 280 306 delread~ \$0-chord 0.468864;
#X obj 58 229 r \$0-sapf;
#X obj 50 296 delread~ \$0-chor2 20.1612;
#X obj 145 404 delwrite~ \$0-cholr 400;
#X obj 143 474 r \$0-sapf;
#X obj 50 556 vd~ \$0-modr;
#X obj -88 598 delwrite~ \$0-modr 500;
#X obj 145 663 delwrite~ \$0-chor2 300;
#X obj 50 512 +~ 1;
#X obj 50 492 *~ 0.01;
#X obj 50 534 *~ 42.5495;
#X obj 280 193 delwrite~ \$0-chord 1000;
#X obj 50 471 bmod~ \$0-mod3;
#X connect 0 0 3 0;
#X connect 2 0 13 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 13 0;
#X connect 4 0 49 0;
#X connect 5 0 15 1;
#X connect 6 0 24 0;
#X connect 7 0 22 0;
#X connect 8 0 17 1;
#X connect 8 0 18 1;
#X connect 9 0 17 0;
#X connect 9 0 26 0;
#X connect 10 0 41 0;
#X connect 11 0 16 1;
#X connect 12 0 20 0;
#X connect 13 0 4 1;
#X connect 14 0 3 1;
#X connect 15 0 4 0;
#X connect 16 0 10 0;
#X connect 17 0 10 1;
#X connect 18 0 9 1;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 40 0;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 38 0;
#X connect 23 0 24 0;
#X connect 23 1 24 1;
#X connect 24 0 36 0;
#X connect 25 0 32 1;
#X connect 25 0 33 1;
#X connect 26 0 32 0;
#X connect 26 0 44 0;
#X connect 27 0 45 0;
#X connect 28 0 34 1;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 48 1;
#X connect 32 0 27 1;
#X connect 33 0 26 1;
#X connect 34 0 27 0;
#X connect 35 0 23 0;
#X connect 36 0 14 0;
#X connect 36 0 15 0;
#X connect 37 0 21 0;
#X connect 38 0 1 0;
#X connect 39 0 19 0;
#X connect 40 0 16 0;
#X connect 40 0 18 0;
#X connect 42 0 30 0;
#X connect 43 0 33 0;
#X connect 43 0 34 0;
#X connect 46 0 48 0;
#X connect 47 0 46 0;
#X connect 48 0 43 0;
#X connect 50 0 47 0;
#X restore 664 319 pd 3apfR;
#X floatatom 666 758 5 0 100 3 diff2R #0-rdiff2 #0-diff2dr;
#X floatatom 726 758 5 0 1000 3 diff2outR #0-rdiff2o #0-diff2drd;
#X floatatom 666 788 5 0 100 3 diff1R #0-rdiff1 #0-diff1dr;
#X floatatom 726 788 5 0 1000 3 diff1outR #0-rdiff1o #0-diff1drd;
#X floatatom 666 818 5 0 200 3 dcydiffaR #0-rdda #0-ddadr;
#X floatatom 726 818 5 0 600 3 definitionaR #0-rdefa #0-defadr;
#X floatatom 801 818 5 0 1000 3 2apfoutR #0-r2apfo #0-2apfoutdr;
#X floatatom 666 849 5 0 400 3 dcydiffbR #0-rddb #0-ddbdr;
#X floatatom 726 849 5 0 300 3 definitionbR #0-rdefb #0-defbdr;
#X floatatom 847 850 5 0 1000 3 3apfoutR #0-r3apfo #0-3apfoutdr;
#X floatatom 801 850 5 0 500 3 chorusR #0-rch #0-chorusdr;
#X floatatom 529 865 5 0 1000 3 pre_del_L #0-prl #0-prel;
#X floatatom 587 864 5 0 1000 3 pre_del_R #0-prr #0-prer;
#N canvas 361 380 721 300 filterR 0;
#X obj 72 63 inlet~;
#X obj 216 85 inlet~;
#X text 74 45 input;
#X text 214 64 feedback;
#X floatatom 72 107 5 0 0 1 pre_del_R #0-prer -;
#X obj 72 150 outlet~;
#X obj 72 85 delwrite~ \$0-prer 1000;
#X obj 72 128 delread~ \$0-prer 0;
#X text 72 2 new biquad loop filter and chebyshev brickwall filter
on input;
#X obj 216 106 filt1000~ \$0;
#X connect 0 0 6 0;
#X connect 1 0 9 0;
#X connect 4 0 7 0;
#X connect 7 0 5 0;
#X connect 9 0 5 0;
#X restore 664 256 pd filterR;
#X obj 49 819 outlet~;
#X obj 65 838 outlet~;
#N canvas 0 0 450 300 brickwall 0;
#X obj 99 260 outlet~;
#X obj 330 263 outlet~;
#X obj 99 28 inlet~;
#X obj 329 30 inlet~;
#X obj 100 195 lop~;
#X obj 329 193 lop~;
#X obj 206 65 r \$0-brickwall;
#X obj 218 147 r \$0-lowpass;
#X obj 100 139 lp8_cheb~ 8000 100;
#X obj 329 134 lp8_cheb~ 8000 100;
#X connect 2 0 8 0;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 6 0 8 1;
#X connect 6 0 9 1;
#X connect 7 0 4 1;
#X connect 7 0 5 1;
#X connect 8 0 4 0;
#X connect 9 0 5 0;
#X restore 504 234 pd brickwall;
#X floatatom 592 616 5 0 20000 0 brickwall #0-bwa #0-brickwall;
#X floatatom 592 635 5 0 20000 0 lowpass #0-bwb #0-lowpass;
#X obj 561 173 r~ \$0-feedr;
#X obj 721 235 r~ \$0-feedl;
#N canvas 988 90 450 652 diffL 0;
#X obj 37 18 inlet~;
#X obj 54 84 *~ 0.375;
#X floatatom 99 19 5 0 0 2 diffusion2 #0-diffusion2 -;
#X obj 36 49 +~;
#X obj 270 161 -~;
#X obj 270 118 *~ 0.844;
#X floatatom 315 97 5 0 0 1 decay2 #0-decay2 -;
#X floatatom 255 -26 5 0 0 1 diff2dl #0-diff2dl -;
#X floatatom 48 151 5 0 0 1 diff2outL #0-diff2dld -;
#X obj 198 99 *~ 0.375;
#X obj 263 16 t b f;
#X obj 255 38 *;
#X obj 56 193 t b f;
#X obj 48 215 *;
#X obj 47 527 outlet~;
#X floatatom 110 295 5 0 0 2 diffusion1 #0-diffusion1 -;
#X obj 47 325 +~;
#X obj 281 437 -~;
#X floatatom 326 373 5 0 0 1 decay3 #0-decay3 -;
#X floatatom 243 250 5 0 0 1 diff1dl #0-diff1dl -;
#X floatatom 47 420 5 0 0 1 diff1outL #0-diff1dld -;
#X obj 65 360 *~ 0.312;
#X obj 186 395 *~ 0.312;
#X obj 281 394 *~ 0.906;
#X obj 251 292 t b f;
#X obj 243 314 *;
#X obj 55 460 t b f;
#X obj 47 482 *;
#X obj 198 -32 *~ -1;
#X obj 263 -5 r \$0-sdiff;
#X obj 37 120 delwrite~ \$0-d2l 100;
#X obj 48 237 delread~ \$0-d2ld 0.0586081;
#X obj 47 504 delread~ \$0-d1ld 30.9158;
#X obj 251 271 r \$0-sdiff;
#X obj 56 172 r \$0-sloop;
#X obj 55 439 r \$0-sloop;
#X obj 186 9 +~ 1;
#X obj 198 -12 +~ 1;
#X obj 198 58 *~ 7.00366;
#X obj 186 334 *~ 11.4872;
#X obj 185 -52 *~ 0.01;
#X obj 48 396 delwrite~ \$0-d1l 200;
#X obj 198 78 vd~ \$0-d2l;
#X obj 186 354 vd~ \$0-d1l;
#X obj 270 183 delwrite~ \$0-d2ld 1000;
#X obj 281 459 delwrite~ \$0-d1ld 1000;
#X obj 185 -72 bmod~ \$0-diffmod;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 2 0 9 1;
#X connect 3 0 1 0;
#X connect 3 0 30 0;
#X connect 4 0 44 0;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 11 0;
#X connect 8 0 13 0;
#X connect 9 0 3 1;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 38 1;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 31 0;
#X connect 15 0 21 1;
#X connect 15 0 22 1;
#X connect 16 0 21 0;
#X connect 16 0 41 0;
#X connect 17 0 45 0;
#X connect 18 0 23 1;
#X connect 19 0 25 0;
#X connect 20 0 27 0;
#X connect 21 0 17 1;
#X connect 22 0 16 1;
#X connect 23 0 17 0;
#X connect 24 0 25 0;
#X connect 24 1 25 1;
#X connect 25 0 39 1;
#X connect 26 0 27 0;
#X connect 26 1 27 1;
#X connect 27 0 32 0;
#X connect 28 0 37 0;
#X connect 29 0 10 0;
#X connect 31 0 16 0;
#X connect 32 0 14 0;
#X connect 33 0 24 0;
#X connect 34 0 12 0;
#X connect 35 0 26 0;
#X connect 36 0 39 0;
#X connect 37 0 38 0;
#X connect 38 0 42 0;
#X connect 39 0 43 0;
#X connect 40 0 28 0;
#X connect 40 0 36 0;
#X connect 42 0 5 0;
#X connect 42 0 9 0;
#X connect 43 0 22 0;
#X connect 43 0 23 0;
#X connect 46 0 40 0;
#X restore 504 277 pd diffL;
#N canvas 1209 45 450 573 diffR 0;
#X obj 37 18 inlet~;
#X obj 54 84 *~ 0.375;
#X floatatom 99 19 5 0 0 2 diffusion2 #0-diffusion2 -;
#X obj 36 49 +~;
#X obj 270 161 -~;
#X obj 270 118 *~ 0.844;
#X floatatom 315 98 5 0 0 1 decay2 #0-decay2 -;
#X floatatom 254 -26 5 0 0 1 diff2dr #0-diff2dr -;
#X floatatom 48 159 5 0 0 1 diff2outR #0-diff2drd -;
#X obj 197 100 *~ 0.375;
#X obj 262 16 t b f;
#X obj 254 38 *;
#X obj 56 201 t b f;
#X obj 48 223 *;
#X obj 47 528 outlet~;
#X floatatom 110 296 5 0 0 2 diffusion1 #0-diffusion1 -;
#X obj 47 326 +~;
#X obj 281 438 -~;
#X floatatom 326 375 5 0 0 1 decay3 #0-decay3 -;
#X floatatom 243 251 5 0 0 1 diff1dr #0-diff1dr -;
#X floatatom 47 421 5 0 0 1 diff1outR #0-diff1drd -;
#X obj 65 361 *~ 0.312;
#X obj 186 396 *~ 0.312;
#X obj 281 395 *~ 0.906;
#X obj 251 293 t b f;
#X obj 243 315 *;
#X obj 55 461 t b f;
#X obj 47 483 *;
#X obj 262 -5 r \$0-sdiff;
#X obj 47 505 delread~ \$0-d1rd 42.7839;
#X obj 48 397 delwrite~ \$0-d1r 100;
#X obj 48 245 delread~ \$0-d2rd 0.029304;
#X obj 37 120 delwrite~ \$0-d2r 100;
#X obj 251 272 r \$0-sdiff;
#X obj 56 180 r \$0-sloop;
#X obj 55 440 r \$0-sloop;
#X obj 198 -32 *~ -1;
#X obj 186 9 +~ 1;
#X obj 198 -12 +~ 1;
#X obj 197 58 *~ 6.00733;
#X obj 186 335 *~ 9.64103;
#X obj 185 -52 *~ 0.01;
#X obj 186 355 vd~ \$0-d1r;
#X obj 197 78 vd~ \$0-d2r;
#X obj 270 183 delwrite~ \$0-d2rd 1000;
#X obj 281 460 delwrite~ \$0-d1rd 1000;
#X obj 185 -72 bmod~ \$0-diffmod;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 2 0 9 1;
#X connect 3 0 1 0;
#X connect 3 0 32 0;
#X connect 4 0 44 0;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 11 0;
#X connect 8 0 13 0;
#X connect 9 0 3 1;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 39 1;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 31 0;
#X connect 15 0 21 1;
#X connect 15 0 22 1;
#X connect 16 0 21 0;
#X connect 16 0 30 0;
#X connect 17 0 45 0;
#X connect 18 0 23 1;
#X connect 19 0 25 0;
#X connect 20 0 27 0;
#X connect 21 0 17 1;
#X connect 22 0 16 1;
#X connect 23 0 17 0;
#X connect 24 0 25 0;
#X connect 24 1 25 1;
#X connect 25 0 40 1;
#X connect 26 0 27 0;
#X connect 26 1 27 1;
#X connect 27 0 29 0;
#X connect 28 0 10 0;
#X connect 29 0 14 0;
#X connect 31 0 16 0;
#X connect 33 0 24 0;
#X connect 34 0 12 0;
#X connect 35 0 26 0;
#X connect 36 0 38 0;
#X connect 37 0 40 0;
#X connect 38 0 39 0;
#X connect 39 0 43 0;
#X connect 40 0 42 0;
#X connect 41 0 36 0;
#X connect 41 0 37 0;
#X connect 42 0 22 0;
#X connect 42 0 23 0;
#X connect 43 0 5 0;
#X connect 43 0 9 0;
#X connect 46 0 41 0;
#X restore 664 277 pd diffR;
#X obj 504 553 s~ \$0-feedl;
#X obj 664 553 s~ \$0-feedr;
#X floatatom 463 866 5 0.1 10 3 diff_scale #0-scalediff #0-sdiff;
#X obj 30 180 loadbang;
#X text 31 161 default delay times;
#X obj 195 180 loadbang;
#X text 196 149 default settings;
#X obj 195 200 f \$0;
#X obj 176 185 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 95 629 s \$0-diff1;
#X obj 95 649 s \$0-diff2;
#X obj 30 609 r \$0-dec;
#X obj 30 628 s \$0-dec1;
#X obj 30 648 s \$0-dec2;
#X obj 30 668 s \$0-dec3;
#X obj 198 657 r \$0-ddif;
#X obj 198 677 s \$0-ddiffa;
#X obj 198 697 s \$0-ddiffb;
#X obj 31 692 r \$0-defin;
#X obj 31 711 s \$0-defina;
#X obj 31 731 s \$0-definb;
#X obj 31 751 s \$0-definc;
#X text 196 128 traditional modulated delay \, depth is in percent
;
#X obj 30 200 f \$0;
#X obj 10 185 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 106 693 r \$0-scale;
#X obj 106 712 s \$0-scalea;
#X obj 106 732 s \$0-scaleloop;
#X obj 106 752 s \$0-scalediff;
#X text 195 162 incl filter and mod;
#X obj 95 609 r \$0-diffg;
#X text 538 128 complementary \, for fast chorus;
#X obj 537 -2 r \$0-difflam;
#X obj 340 395 f \$0;
#X obj 340 377 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 590 18 r \$0-diffdep;
#X obj 670 -2 r \$0-diffmsl;
#X obj 697 18 r \$0-diffmper;
#X obj 367 -43 r \$0-m2lam;
#X obj 420 -23 r \$0-m2dep;
#X obj 500 -43 r \$0-m2msl;
#X obj 527 -23 r \$0-m2mper;
#X obj 197 -2 r \$0-m3lam;
#X obj 250 18 r \$0-m3dep;
#X obj 330 -2 r \$0-m3msl;
#X obj 357 18 r \$0-m3mper;
#X obj 347 172 f \$0;
#X obj 329 157 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 347 192 \; \$1-m3lam 1 \; \$1-m3dep 12 \; \$1-m3msl 0.5 \; \$1-m3mper
15 \;;
#X text 382 170 classic modulation;
#X obj 347 152 loadbang;
#X obj 340 283 f \$0;
#X obj 339 266 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 340 303 \; \$1-m2lam 1 \; \$1-m2dep 1 \; \$1-m2msl 0.5 \; \$1-m2mper
2 \;;
#X obj 504 532 *~ 0;
#X obj 535 532 *~ 0;
#X floatatom 592 654 5 0 1 0 shimmer #0-shim #0-shimmer;
#X obj 732 274 r \$0-shimmer;
#X obj 732 294 expr sin(($f1+1)*1.57079633) \; cos(($f1-1)*1.57079633)
;
#X obj 664 532 *~ 0;
#X obj 695 532 *~ 0;
#X text 359 261 mild und leise;
#X obj 790 384 r \$0-psfb;
#X obj 630 384 r \$0-psfb;
#X obj 592 327 r \$0-pslwin;
#X obj 752 327 r \$0-psrwin;
#X obj 611 346 r \$0-psldel;
#X obj 771 346 r \$0-psrdel;
#X obj 573 365 r \$0-pslfac;
#X obj 733 365 r \$0-psrfac;
#X floatatom 249 811 5 0 1000 0 RH_pois #0-rhpois #0-rhallpois;
#X floatatom 249 830 5 0 10000 0 RH_min #0-rhmin #0-rhallmin;
#X floatatom 249 849 5 0 1000 0 RH_max_del #0-rhmdel #0-rhallmaxdel
;
#X floatatom 249 868 5 0 100 0 RH_xfade_time #0-rhxft #0-rhallxft;
#X obj 83 857 outlet~;
#X obj 100 876 outlet~;
#X text 11 778 outputs L1 \, R1 \, L2 \, R2 \, LRH \, RRH;
#X obj 342 509 f \$0;
#X obj 341 492 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 357 488 all modulation off;
#X msg 342 529 \; \$1-m3dep 0 \; \$1-m2dep 0 \; \$1-diffdep 0 \;;
#X obj 205 889 tgl 15 0 \$0-rhallmode \$0-rhmode RH_both_sides 17 7
0 10 -262144 -1 -1 1 1;
#X text 155 903 works better with longer delays;
#X floatatom 1004 685 5 -1 1 1 ldiff1l #0-ldiff1l #0-ldiffusion1l;
#X floatatom 969 685 5 0 1000 0 ldiff1ld #0-ldiff1ld #0-ldiffusion1ld
;
#X floatatom 1004 704 5 -1 1 1 ldiff2l #0-ldiff2l #0-ldiffusion2l;
#X floatatom 969 704 5 0 1000 0 ldiff2ld #0-ldiff2ld #0-ldiffusion2ld
;
#X floatatom 1004 723 5 -1 1 1 lapf2l #0-lapf2l #0-ldefinitionl;
#X floatatom 969 723 5 0 1000 0 lapf2ld #0-lapf2ld #0-ldefinitionld
;
#X floatatom 1004 742 5 -1 1 1 lapf3l #0-lapf3l #0-lchorusl;
#X floatatom 969 742 5 0 1000 0 lapf3ld #0-lapf3ld #0-lchorusld;
#X floatatom 1004 779 5 -1 1 1 ldiff1r #0-ldiff1r #0-ldiffusion1r;
#X floatatom 969 779 5 0 1000 0 ldiff1rd #0-ldiff1rd #0-ldiffusion1rd
;
#X floatatom 1004 798 5 -1 1 1 ldiff2r #0-ldiff2r #0-ldiffusion2r;
#X floatatom 969 798 5 0 1000 0 ldiff2rd #0-ldiff2rd #0-ldiffusion2rd
;
#X floatatom 1004 817 5 -1 1 1 lapf2r #0-lapf2r #0-ldefinitionr;
#X floatatom 969 817 5 0 1000 0 lapf2rd #0-lapf2rd #0-ldefinitionrd
;
#X floatatom 1004 836 5 -1 1 1 lapf3r #0-lapf3r #0-lchorusr;
#X floatatom 969 836 5 0 1000 0 lapf3rd #0-lapf3rd #0-lchorusrd;
#X text 924 667 left delays to left output;
#X text 914 762 right delays to left output;
#X floatatom 1181 779 5 -1 1 1 rdiff1l #0-rdiff1l #0-rdiffusion1l;
#X floatatom 1146 779 5 0 1000 0 rdiff1ld #0-rdiff1ld #0-rdiffusion1ld
;
#X floatatom 1181 798 5 -1 1 1 rdiff2l #0-rdiff2l #0-rdiffusion2l;
#X floatatom 1146 798 5 0 1000 0 rdiff2ld #0-rdiff2ld #0-rdiffusion2ld
;
#X floatatom 1181 817 5 -1 1 1 rapf2l #0-rapf2l #0-rdefinitionl;
#X floatatom 1146 817 5 0 1000 0 rapf2ld #0-rapf2ld #0-rdefinitionld
;
#X floatatom 1181 836 5 -1 1 1 rapf3l #0-rapf3l #0-rchorusl;
#X floatatom 1146 836 5 0 1000 0 rapf3ld #0-rapf3ld #0-rchorusld;
#X floatatom 1181 685 5 -1 1 1 rdiff1r #0-rdiff1r #0-rdiffusion1r;
#X floatatom 1146 685 5 0 1000 0 rdiff1rd #0-rdiff1rd #0-rdiffusion1rd
;
#X floatatom 1181 704 5 -1 1 1 rdiff2r #0-rdiff2r #0-rdiffusion2r;
#X floatatom 1146 704 5 0 1000 0 rdiff2rd #0-rdiff2rd #0-rdiffusion2rd
;
#X floatatom 1181 723 5 -1 1 1 rapf2r #0-rapf2r #0-rdefinitionr;
#X floatatom 1146 723 5 0 1000 0 rapf2rd #0-rapf2rd #0-rdefinitionrd
;
#X floatatom 1181 742 5 -1 1 1 rapf3r #0-rapf3r #0-rchorusr;
#X floatatom 1146 742 5 0 1000 0 rapf3rd #0-rapf3rd #0-rchorusrd;
#X text 1101 761 left delays to right output;
#X text 1092 668 right delays to right output;
#X obj 964 310 f \$0;
#X obj 946 295 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 964 290 loadbang;
#X text 962 272 Outputs 1 and 2;
#X obj 1112 309 f \$0;
#X obj 1111 292 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 1106 275 Outputs 3 and 4;
#X msg 964 330 \; \$1-lapf2ld 1.17216 \; \$1-lapf2l 0.467 \; \$1-ldiff1ld
0 \; \$1-ldiff1l 1 \; \$1-lapf3ld 46.0659 \; \$1-lapf3l 0.133 \; \$1-lapf2rd
5.62637 \; \$1-lapf2r -0.467 \; \$1-rapf2rd 13.7143 \; \$1-rapf2r 0.467
\; \$1-rdiff1rd 18.315 \; \$1-rdiff1r 1 \; \$1-rapf3rd 0.234432 \;
\$1-rapf3r 0.133 \; \$1-rapf2ld 9.14286 \; \$1-rapf2l -0.467 \; \$1-ldiff2l
0 \; \$1-rdiff2r 0 \; \$1-ldiff1r 0 \; \$1-rdiff1l 0 \; \$1-ldiff2r
0 \; \$1-rdiff2l 0 \; \$1-lapf3r 0 \; \$1-rapf3l 0 \;;
#X msg 1112 329 \; \$1-lapf2ld 8.08791 \; \$1-lapf2l 1 \; \$1-rapf2rd
0.703297 \; \$1-rapf2r 1 \; \$1-rapf3ld 1.05495 \; \$1-rapf3l 0.5 \;
\$1-ldiff2l 0 \; \$1-ldiff2r 0 \; \$1-rdiff2r 0 \; \$1-rdiff2l 0 \;
\$1-ldiff1l 0 \; \$1-ldiff1r 0 \; \$1-rdiff1r 0 \; \$1-rdiff1l 0 \;
\$1-lapf3l 0 \; \$1-rapf3r 0 \; \$1-lapf3r 0 \; \$1-rapf2l 0 \; \$1-lapf2r
0 \;;
#X text 360 374 diff strong chorus;
#X msg 340 415 \; \$1-difflam 20 \; \$1-diffdep 2 \; \$1-diffmsl 0.5
\; \$1-diffmper 0.2 \;;
#X obj 44 28 switch~;
#X obj 44 10 tgl 15 0 empty revCH empty 17 7 0 10 -262144 -1 -1 1 1
;
#X text 368 601 RT60 ???;
#X obj 95 -37 r \$0-hf;
#X obj 113 -17 r \$0-hdb;
#X obj 150 -44 r \$0-lf;
#X obj 168 -24 r \$0-ldb;
#X obj 197 38 bmod \$0-mod3;
#X text 662 889 All delay times can be set to at least 100 ms or scaled
to 10x.;
#X text 807 -23 This is a reverb algorithm based on a David Griesinger
design (probably the Lexicon 224 Concert Hall?). Parameters \, names
and values correspond more or less to this diagram: http://www.convexoptimization.com/wikimization/index.php/Dattorro_Convex_Optimization_of_a_Reverberator
There are a few enhancements \, including additional modulators \,
better loop filters \, an adjustable "brickwall" input filter \, "shimmer"
(pitch shifters in the feedback loop) and "random hall" (smooth interpolation
between random output taps \, I'm sure the actual Lexicon "random hall"
algorithms use more APFs for a smoother sound). All parameters are
available for adjustment \, but useful mappings for user friendly control
of decay time (etc.) aren't included here. It can obviously be extended
much further \, but I'd prefer to leave this as a classic/cheap algorithm
and build more advanced reverbs from the ground up.;
#X obj 95 4 filt1000 \$0-f;
#X msg 30 220 \; \$1-prl 0 \; \$1-prr 0 \; \$1-gscale 1 \; \$1-ldiff2
7.00366 \; \$1-ldiff2o 0.0586081 \; \$1-ldiff1 11.4872 \; \$1-ldiff1o
30.9158 \; \$1-ldda 17.9341 \; \$1-ldefa 56.967 \; \$1-l2apfo 10.0806
\; \$1-lddb 37.0403 \; \$1-ldefb 23.9212 \; \$1-lch 35.5165 \; \$1-l3apfo
46.0659 \; \$1-rdiff2 6.00733 \; \$1-rdiff2o 0.029304 \; \$1-rdiff1
9.64103 \; \$1-rdiff1o 42.7839 \; \$1-rdda 10.7839 \; \$1-rdefa 59.5458
\; \$1-r2apfo 14.652 \; \$1-rddb 39.2674 \; \$1-rdefb 20.1612 \; \$1-rch
42.5495 \; \$1-r3apfo 0.468864 \;;
#X msg 195 220 \; \$1-decay 0.975 \; \$1-diff 0.312 \; \$1-diff1 0.312
\; \$1-diff2 0.375 \; \$1-ddiff 0.406 \; \$1-def 0.25 \; \$1-bwa 10000
\; \$1-bwb 3000 \; \$1-hf 7000 \; \$1-hdb -12 \; \$1-lf 1000 \; \$1-ldb
0 \; \$1-shim 0.05 \; \$1-pslfac -2 \; \$1-psrfac -2 \; \$1-pslwin
2000 \; \$1-psrwin 2013 \; \$1-psldel 0 \; \$1-psrdel 0 \; \$1-psfb
0 \; \$1-rhpois 3 \; \$1-rhmin 100 \; \$1-rhmdel 500 \; \$1-rhxft 100
\; \$1-rhmode 1 \; revCH 1 \; \$1-go 1 \; \$1-mod3-en 1 \; \$1-mod2-en
1 \; \$1-diffmod-en 1 \;;
#X obj 535 403 pitchshift~ 3000;
#X obj 367 38 bmod \$0-mod2;
#X obj 537 38 bmod \$0-diffmod;
#X text 824 202 Scott Nordlund \, 2011;
#X text 824 220 Contact: limina@live.com.;
#X text 825 239 Last revised: 08-03-2011.;
#X obj 695 403 pitchshift~ 3000;
#X connect 15 0 16 0;
#X connect 16 0 116 0;
#X connect 16 0 205 0;
#X connect 24 0 55 0;
#X connect 25 0 55 1;
#X connect 28 0 60 0;
#X connect 29 0 53 0;
#X connect 29 1 54 0;
#X connect 29 2 136 0;
#X connect 29 3 137 0;
#X connect 37 0 38 0;
#X connect 38 0 121 0;
#X connect 38 0 211 0;
#X connect 52 0 61 0;
#X connect 55 0 28 0;
#X connect 55 1 52 0;
#X connect 58 0 28 1;
#X connect 59 0 52 1;
#X connect 60 0 15 0;
#X connect 61 0 37 0;
#X connect 65 0 85 0;
#X connect 67 0 69 0;
#X connect 69 0 204 0;
#X connect 70 0 69 0;
#X connect 73 0 74 0;
#X connect 73 0 75 0;
#X connect 73 0 76 0;
#X connect 77 0 78 0;
#X connect 77 0 79 0;
#X connect 80 0 81 0;
#X connect 80 0 82 0;
#X connect 80 0 83 0;
#X connect 85 0 203 0;
#X connect 86 0 85 0;
#X connect 87 0 88 0;
#X connect 87 0 89 0;
#X connect 87 0 90 0;
#X connect 92 0 71 0;
#X connect 92 0 72 0;
#X connect 94 0 207 0;
#X connect 95 0 191 0;
#X connect 96 0 95 0;
#X connect 97 0 207 2;
#X connect 98 0 207 5;
#X connect 99 0 207 6;
#X connect 100 0 206 0;
#X connect 101 0 206 2;
#X connect 102 0 206 5;
#X connect 103 0 206 6;
#X connect 104 0 199 0;
#X connect 105 0 199 2;
#X connect 106 0 199 5;
#X connect 107 0 199 6;
#X connect 108 0 110 0;
#X connect 109 0 108 0;
#X connect 112 0 108 0;
#X connect 112 0 113 0;
#X connect 112 0 95 0;
#X connect 113 0 115 0;
#X connect 114 0 113 0;
#X connect 116 0 62 0;
#X connect 117 0 62 0;
#X connect 119 0 120 0;
#X connect 120 0 116 1;
#X connect 120 0 121 1;
#X connect 120 1 117 1;
#X connect 120 1 122 1;
#X connect 121 0 63 0;
#X connect 122 0 63 0;
#X connect 124 0 211 5;
#X connect 125 0 205 5;
#X connect 126 0 205 3;
#X connect 127 0 211 3;
#X connect 128 0 205 4;
#X connect 129 0 211 4;
#X connect 130 0 205 2;
#X connect 131 0 211 2;
#X connect 139 0 142 0;
#X connect 140 0 139 0;
#X connect 181 0 188 0;
#X connect 182 0 181 0;
#X connect 183 0 181 0;
#X connect 185 0 189 0;
#X connect 186 0 185 0;
#X connect 193 0 192 0;
#X connect 195 0 202 0;
#X connect 196 0 202 1;
#X connect 197 0 202 3;
#X connect 198 0 202 4;
#X connect 205 0 117 0;
#X connect 211 0 122 0;
